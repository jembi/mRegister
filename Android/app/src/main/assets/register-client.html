<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Client Registration</title>
  <link href="styles.css" rel="stylesheet" />
  <link href="app.css" rel="stylesheet" />
</head>

<body>
<div id="myFormContainer"></div>

<!-- Load dependencies -->
<script src="zone.min.js"></script>
<script src="lhc-forms.js"></script>
<script src="lformsFHIR.min.js"></script>
<script src="dist/fhirFormBundle.js"></script>

<script>
  window.addEventListener('load', function () {
    try {
      const formHandler = new FHIRFormHandler(
        'myFormContainer',
        'https://appassets.androidplatform.net/assets/questionnaires/questionnaire-client-reg-schema.json',
        [],
        'http://192.168.100.24:5001/QR-to-Patient'
      );

      formHandler.init().catch(err => {
        console.error("Error during form initialization:", err);
        alert("Failed to load form. Please try again later.");
      });
    } catch (err) {
      console.error("Error creating FHIRFormHandler:", err);
      alert("Failed to set up form handler. Please check the configuration.");
    }
  });
</script>
</body>

</html>
